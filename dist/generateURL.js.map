{"version":3,"sources":["../src/generateURL.ts"],"sourcesContent":["import type { GenerateURL } from '@payloadcms/plugin-cloud-storage/types'\n\nimport { posix } from 'node:path'\n\nimport type { BunnyAdapterOptions } from './types.js'\n\nexport const getGenerateURL = ({ storage, stream }: BunnyAdapterOptions): GenerateURL => {\n  return ({ data, filename, prefix = '' }) => {\n    if (stream && data.bunnyVideoId) {\n      return `https://${stream.hostname}/${data.bunnyVideoId}/playlist.m3u8`\n    }\n\n    return `https://${storage.hostname}/${encodeURI(posix.join(prefix, filename))}`\n  }\n}"],"names":["posix","getGenerateURL","storage","stream","data","filename","prefix","bunnyVideoId","hostname","encodeURI","join"],"mappings":"AAEA,SAASA,KAAK,QAAQ,YAAW;AAIjC,OAAO,MAAMC,iBAAiB,CAAC,EAAEC,OAAO,EAAEC,MAAM,EAAuB;IACrE,OAAO,CAAC,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,SAAS,EAAE,EAAE;QACrC,IAAIH,UAAUC,KAAKG,YAAY,EAAE;YAC/B,OAAO,CAAC,QAAQ,EAAEJ,OAAOK,QAAQ,CAAC,CAAC,EAAEJ,KAAKG,YAAY,CAAC,cAAc,CAAC;QACxE;QAEA,OAAO,CAAC,QAAQ,EAAEL,QAAQM,QAAQ,CAAC,CAAC,EAAEC,UAAUT,MAAMU,IAAI,CAACJ,QAAQD,YAAY;IACjF;AACF,EAAC"}